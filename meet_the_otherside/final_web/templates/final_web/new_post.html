<div style="width: 100%; display: flex; flex-direction: row; justify-content: center;align-items: start; position: absolute; z-index: 5;">
{% load martortags %}
{% load static %}
{% if user.is_authenticated %}
<div style="display: none; position: fixed; background-color: rgba(0,0,0,0.2); height: 100%; width: 100%;align-items: center; justify-content: center;" id="newPost"> 

    <form action="/post" method="post" enctype="multipart/form-data" style="margin: 10px; box-shadow: 0px 0px 10px rgba(0,0,0,0.5); padding: 2em; border-radius: 0.5em; max-width: 768px; min-width: 340px; width: 100%; height: 40%; background-color: #272728;">
        {% csrf_token %}
        <!-- {{form.text.label_tag}} -->

            <div style="display: flex; flex-direction: column; height: 80%;">
                <div style="display: flex; flex-direction: row; width: 100%; justify-content: space-between;">
                    {{ form.title }}
                    <i style="cursor: pointer;" onclick="newPost()" class="fa-solid fa-xmark"></i>
                </div>
                {{ form.body }}  
            </div>
        
        <div id="previewImages" >
    
        </div>
        <div style="padding-top: 10px; display: flex; flex-direction: row; justify-content: end; align-items: center;">
            <div>
                {{ form.anonymous.label_tag }}
                {{ form.anonymous }}
            </div>
            <div>
                {{ form.images }}
                {{ form.urls }}
                <label for="id_images" style="cursor: pointer; margin-left: 1em;">
                    <i class="fa-solid fa-image" style="width: 25px; height: 25px; padding-top: 0.3em;"></i>
                </label>
            </div>
            <input type="submit" name="submit" value="Post" style="margin: 0.5em 0em 0.5em 0.5em;"/>
        </div>    
        <div>
            {{ form.text.errors}}
            {{ form.text.help_text}}
            {{ form.anonymous.errors }}
            {{ form.anonymous.help_text }}
            {{ form.images.errors }}
            {{ form.images.help_text }}
        </div>
    </form>
    {% block js %}
  <script type="text/javascript" src="{% static 'plugins/js/ace.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/mode-markdown.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/ext-language_tools.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/theme-github.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/typo.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/spellcheck.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/highlight.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/resizable.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'plugins/js/emojis.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'martor/js/martor.bootstrap.min.js' %}"></script>
{% endblock %}
</div>
{% endif %}
</div>